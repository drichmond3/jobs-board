(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{54:function(e,t,n){},56:function(e,t,n){},66:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n.n(c),a=n(13),s=n.n(a),r=(n(54),n(55),n(56),n(5)),i=n(34),l=n(44),j=(n(66),n(1));function d(e){return Object(j.jsxs)("div",{className:"home-container user-select-none",children:[Object(j.jsx)("header",{className:"home-header",children:Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Mock Jobs Board"}),Object(j.jsx)("p",{children:"Your next career move is just a few clicks away"})]})}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{onClick:function(){return e.changeCategory(null)},children:"Start"})}),Object(j.jsx)("div",{className:"home-category-container",children:e.categories.map((function(t,n){return b(n,t,e.changeCategory)}))})]})}var b=function(e,t,n){var c=null==t?function(){}:function(){return n(t)},o=null==t?"...":t.name;return Object(j.jsx)(l.a,{variant:"outline-secondary",onClick:c,children:o},e)},u=n(2),h=n(80),O=n(81),p=n(82),f=n(85),x=n(10),m=n(11);function g(e){var t=e.job?e.job.title:"",n=e.job?e.job.description:"click on a job posting to display more details...",c=e.job?"":" empty";return Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"job-board-details-content "+c,children:Object(j.jsxs)(f.a,{children:[Object(j.jsx)(f.a.Title,{children:t&&Object(j.jsx)(f.a.Header,{children:t})}),Object(j.jsxs)(f.a.Body,{children:[Object(j.jsx)(x.a,{icon:m.b,size:"2x"}),Object(j.jsxs)("span",{children:[" ",n]})]}),e.job&&Object(j.jsx)(f.a.Footer,{className:"text-center",children:Object(j.jsx)(l.a,{onClick:function(){return e.showApplication()},children:"Apply!"})})]})})})}var v=n(83),y=n(84),C=n(20),N=n(45),S=n.n(N),E=function(){return"".concat("https://us-central1-mock-jobs-board.cloudfunctions.net/main","/job_categories?_sort=popularity&_order=desc&_limit=100")},T=function(){return"".concat("https://us-central1-mock-jobs-board.cloudfunctions.net/main","/job_position_types?_sort=name&_order=asc&_limit=100")},k=function(e){return"".concat("https://us-central1-mock-jobs-board.cloudfunctions.net/main","/job_posting_additional_details?job_posting_id=").concat(e,"&_limit=1000")},J=function(e,t,n,c,o){var a="".concat("https://us-central1-mock-jobs-board.cloudfunctions.net/main","/job_postings?_expand=job_categories&_expand=job_position_types&_page=").concat(c,"&_limit=").concat(o);return t&&t.length>0&&(a+=t.map((function(e){return"&job_categoriesId=".concat(encodeURIComponent(e))})).join("")),n&&n.length>0&&(a+=n.map((function(e){return"&job_position_typesId=".concat(encodeURIComponent(e))})).join("")),e&&(a+="&q=".concat(encodeURIComponent(e))),a};function P(e){var t=Object(c.useRef)(0),n=Object(c.useState)(!1),o=Object(r.a)(n,2),a=o[0],s=o[1],i=Object(c.useCallback)((function(){return s(!0)}),[]),l=Object(c.useState)({data:null,headers:null,error:null,loading:!1,requestId:t.current}),j=Object(r.a)(l,2),d=j[0],b=j[1];return Object(c.useEffect)((function(){if(a)s(!1);else if(e){t.current++;var n=t.current;b((function(e){return Object(u.a)(Object(u.a)({},e),{},{loading:!0,error:null})})),fetch(e).then((function(e){e.ok&&e.json().then((function(c){n===t.current&&b((function(n){return{data:c,headers:e.headers,error:null,loading:!1,requestId:t.current}}))}))})).catch((function(e){b((function(t){return Object(u.a)(Object(u.a)({},t),{},{error:e})}))})).finally((function(){n===t.current&&b((function(e){return Object(u.a)(Object(u.a)({},e),{},{loading:!1})}))}))}}),[e,a]),{data:d.data,headers:d.headers,error:d.error,loading:d.loading,forceReload:i,requestId:d.requestId}}var _=function(e){return e?e.map((function(e){return e.id})):[]},I={selectedCategories:null,selectedPositionTypes:null,jobPostings:null,tmpSearchText:"",toggleCategory:function(e){throw Error("Search Context not initialized")},setCategory:function(e){throw Error("Search Context not initialized")},togglePositionType:function(e){throw Error("Search Context not initialized")},clearPositionTypes:function(){throw Error("Search Context not initialized")},updateSearchText:function(e){throw Error("Search Context not initialized")},isLoadingJobs:!1,searchResultCount:0,loadJobPostingsError:null,isEndOfJobsStream:!1,loadMoreJobs:function(){throw Error("Search Context not initialized")}},w=o.a.createContext(I);function R(e){var t=Object(c.useState)(null),n=Object(r.a)(t,2),o=n[0],a=n[1],s=Object(c.useState)(null),i=Object(r.a)(s,2),l=i[0],d=i[1],b=Object(c.useState)(""),h=Object(r.a)(b,2),O=h[0],p=h[1],f=Object(c.useState)(""),x=Object(r.a)(f,2),m=x[0],g=x[1],v=function(e,t,n,o){var a=Object(c.useState)({pageNumber:1,searchText:e,categories:t,positionTypes:n,resultsPerPage:o}),s=Object(r.a)(a,2),i=s[0],l=s[1],j=Object(c.useState)(-1),d=Object(r.a)(j,2),b=d[0],h=d[1],O=P(J(i.searchText,_(i.categories),_(i.positionTypes),i.pageNumber,i.resultsPerPage)),p=Object(c.useState)(null),f=Object(r.a)(p,2),x=f[0],m=f[1],g=Object(c.useState)("FETCHING"),v=Object(r.a)(g,2),y=v[0],N=v[1];Object(c.useEffect)((function(){"QUEUED"===y&&(l((function(e){return Object(u.a)(Object(u.a)({},i),{},{pageNumber:e.pageNumber+1})})),N("FETCHING"))}),[y,i]),Object(c.useEffect)((function(){O.data&&"FETCHING"===y&&O.requestId>b&&(N("STORING"),m((function(e){return O.data&&e?[].concat(Object(C.a)(e),Object(C.a)(O.data)):O.data})),h(O.requestId))}),[O.requestId]),Object(c.useEffect)((function(){var e=setTimeout((function(){"STORING"===y&&(O.data&&0!==O.data.length||O.error||O.loading?N("FINISHED"):N("EMPTY"))}),1e3);return function(){clearTimeout(e)}}),[b,O.data,O.loading,O.error,y]);var S=function(){N((function(e){return"FINISHED"===e?"QUEUED":e}))};return Object(c.useEffect)((function(){m([]),l({pageNumber:1,searchText:e,categories:t,positionTypes:n,resultsPerPage:o}),N("FETCHING")}),[e,t,n,o]),{data:x,headers:O.headers,error:O.error,loading:O.loading,forceReload:S,loadMoreJobs:S,isEndOfStream:"EMPTY"===y}}(m,o,l,e.maxResultCount),y=v.data,N=v.error,E=v.headers,T=v.loading,k=v.loadMoreJobs,I=v.isEndOfStream,R=Object(c.useCallback)(S()((function(e){return g(e)}),e.debounceInMilliseconds),[]),M=function(e,t){if(null==e)return null;if(null===t||void 0===t?void 0:t.find((function(t){return t.id===e.id}))){var n=[];return t.forEach((function(t){t.id!==e.id&&n.push(t)})),n}return null==t?[e]:[].concat(Object(C.a)(t),[e])},D=(null===E||void 0===E?void 0:E.get("X-Total-Count"))||0;return D=Number.parseInt(D+""),Object(j.jsx)(w.Provider,{value:{selectedCategories:o,selectedPositionTypes:l,jobPostings:y,tmpSearchText:O,toggleCategory:function(e){var t=M(e,o);a(t)},togglePositionType:function(e){var t=M(e,l);d(t)},setCategory:function(e){if(null===e)a(null);else if(!(null===o||void 0===o?void 0:o.find((function(t){return t.id===e.id})))){var t=null==o?[e]:[].concat(Object(C.a)(o),[e]);a(t)}d(null)},clearPositionTypes:function(){d(null)},updateSearchText:function(e){p(e),R(e)},isLoadingJobs:T,searchResultCount:D,loadJobPostingsError:N,loadMoreJobs:k,isEndOfJobsStream:I},children:e.children})}function M(e){var t=Object(c.useContext)(w),n=t.selectedCategories,o=t.selectedPositionTypes,a=t.tmpSearchText,s=t.toggleCategory,r=t.togglePositionType,i=t.updateSearchText,l=t.searchResultCount;return Object(j.jsx)("div",{id:"job-board-search-container",className:"job-board-search-container",children:Object(j.jsx)("div",{className:"job-board-search-content",children:Object(j.jsx)(f.a,{border:"dark",children:Object(j.jsx)("form",{className:"text-center pt-3 pb-3",onSubmit:function(e){return e.preventDefault()},children:Object(j.jsx)(h.a,{fluid:!0,children:Object(j.jsxs)(O.a,{children:[Object(j.jsxs)(p.a,{lg:12,xs:12,className:"p-0",children:[Object(j.jsx)(x.a,{icon:m.g,className:"search-icon"}),Object(j.jsx)("input",{placeholder:"Search...",value:a,onChange:function(e){return i(e.target.value)}}),Object(j.jsx)("div",{className:"search-info d-none d-sm-block",children:Object(j.jsxs)("div",{children:[l," results"]})})]}),Object(j.jsxs)(p.a,{lg:12,xs:6,id:"job-board-category-dropdown",children:[A("Categories",e.categories,s,n,e.loadCategoriesError,e.forceCategoriesReload),D(n,s)]}),Object(j.jsxs)(p.a,{lg:12,xs:6,id:"job-board-tag-dropdown",children:[A("Tags",e.positionTypes,r,o,e.loadPositionTypesError,e.forcePositionTypesReload),D(o,r)]})]})})})})})})}var D=function(e,t){return e?e.map((function(e){return Object(j.jsxs)(f.a,{className:"d-none d-lg-inline job-board-search-selections user-select-none",onClick:function(){return t(e)},children:[Object(j.jsx)("span",{children:Object(j.jsx)(x.a,{icon:m.j})}),Object(j.jsx)("span",{className:"content",children:e.name})]},e.id)})):[]},A=function(e,t,n,c,o,a){var s=t&&t.find((function(e){return e})),r=c&&c.length?"text-primary":"",i=s?e:"Loading...",l=t||[];return o?Object(j.jsxs)(v.a,{children:[Object(j.jsxs)(v.a.Toggle,{children:[Object(j.jsx)(x.a,{icon:m.d}),Object(j.jsxs)("span",{className:r,children:[" ",e]})]}),Object(j.jsx)(v.a.Menu,{children:Object(j.jsxs)(y.a,{variant:"danger",onClick:function(){return a()},children:[Object(j.jsx)("span",{children:"There was an issue loading available options."}),Object(j.jsx)("br",{}),Object(j.jsx)("b",{children:"Click to retry"})]})})]}):Object(j.jsxs)(v.a,{children:[Object(j.jsxs)(v.a.Toggle,{children:[Object(j.jsx)(x.a,{icon:m.d}),Object(j.jsxs)("span",{className:r,children:[" ",i]})]}),s&&Object(j.jsx)(v.a.Menu,{children:l.filter((function(e){return e})).map((function(e){return B(e,c,n)}))})]})},B=function(e,t,n){var c=!1;return t&&(c=Boolean(t.find((function(t){return t.id===e.id})))),Object(j.jsxs)(v.a.Item,{active:c,onSelect:function(){return n(e)},children:[c&&Object(j.jsx)(x.a,{icon:m.j})," ",e.name]},e.id)};function F(e){var t,n,a=Object(c.useState)(!1),s=Object(r.a)(a,2),i=s[0],l=s[1],d=Object(c.useState)(!1),b=Object(r.a)(d,2),h=b[0],O=b[1],p=" ";p+=i&&null!==(t=e.hoverClass)&&void 0!==t?t:"";var f={onMouseDown:function(){O(!0),l(!1)},onMouseEnter:function(){l(!0)},onMouseLeave:function(){O(!1),l(!1)},onMouseUp:function(){l(!0),O(!1)},className:p+=h&&null!==(n=e.clickClass)&&void 0!==n?n:""};return null!=e.children?Object(j.jsx)(j.Fragment,{children:o.a.Children.map(e.children,(function(e){var t=Object(u.a)({},f);return o.a.isValidElement(e)?(t.className=e.props.className+p,o.a.cloneElement(e,t)):o.a.cloneElement(Object(j.jsx)("span",{children:e}),f)}))}):Object(j.jsx)(j.Fragment,{})}var z=function(e){return e<24?"".concat(e," Hours"):e<730?"".concat(Math.round(e/24)," Days"):"".concat(Math.round(e/730)," Months")};function H(e){var t=Object(c.useContext)(w),n=t.jobPostings,o=t.isLoadingJobs,a=t.loadJobPostingsError,s=t.isEndOfJobsStream,i=t.loadMoreJobs,l=Object(c.useRef)(null);!function(e,t){var n=Object(c.useRef)(!1);Object(c.useEffect)((function(){var c=new IntersectionObserver((function(e){var t=Object(r.a)(e,1)[0];n.current=t.isIntersecting}));if(setInterval((function(){return n.current&&t()}),700),e.current)return c.observe(e.current),function(){c.disconnect()}}),[e,t])}(l,i);var d=n||[];if(o&&0===d.length){var b=Array(15).fill(null).map((function(t,n){return L(t,n,!0,e.setSelectedJob,e.setSelectedDetailsJob,e.showApplication)}));return b.push(Object(j.jsx)("div",{ref:l,className:"d-none",children:"---"},-1)),Object(j.jsx)("div",{className:"jobs-list-container",children:b})}if(a)return Object(j.jsx)(y.a,{variant:"danger",children:"Unable to find any search results. Please change your search criteria and try again."});var u=d.map((function(t,n){return L(t,n,!1,e.setSelectedJob,e.setSelectedDetailsJob,e.showApplication)})),h=u.length;return o?(Array(5).fill(null).map((function(t,n){return L(t,h+n,!0,e.setSelectedJob,e.setSelectedDetailsJob,(function(){}))})).map((function(e){return u.push(e)})),u.push(Object(j.jsx)("div",{ref:l},-1))):s||(u.push(Object(j.jsx)("div",{ref:l},-1)),Array(5).fill(null).map((function(t,n){return L(t,h+n,!0,e.setSelectedJob,e.setSelectedDetailsJob,(function(){}))})).map((function(e){return u.push(e)}))),Object(j.jsx)("div",{className:"jobs-list-container",children:u})}var L=function(e,t,n,c,o,a){var s=0===t?"":"delay-"+5*t%12,r=e&&!n?"/uploads/"+e.logo_file_name:void 0,i=e&&!n?"Company ".concat(e.company):"loading image",d=e&&!n?e.title:Object(j.jsx)(j.Fragment,{children:"\xa0"}),b=e&&!n?e.company:Object(j.jsx)(j.Fragment,{children:"\xa0"}),u=e&&!n?z(e.age_in_hours):Object(j.jsx)(j.Fragment,{children:"\xa0"}),h=e&&!n?e.job_position_types.name:Object(j.jsx)(j.Fragment,{children:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0"}),O=n?"loading":"";return Object(j.jsx)(F,{hoverClass:"bg-light",clickClass:"jobs-bg-clicked",children:Object(j.jsxs)(f.a,{id:"jobs-list-item"+t,className:"jobs-list-item "+O,onClick:function(t){return o(e)},children:[n&&Object(j.jsx)("div",{className:"loading-indicator",children:Object(j.jsx)("div",{className:s})}),Object(j.jsx)("object",{className:"job-img",data:r,type:"image/png",children:i}),Object(j.jsxs)("div",{className:"jobs-list-item-primary",children:[Object(j.jsx)("span",{className:"title",children:Object(j.jsx)("span",{children:d})}),Object(j.jsx)("span",{className:"sub-data",children:Object(j.jsx)("span",{children:b})}),Object(j.jsx)("span",{className:"sub-data",children:Object(j.jsx)("span",{children:u})})]}),Object(j.jsxs)("div",{className:"d-none d-md-block",children:[Object(j.jsx)("span",{className:"sub-data",children:h}),Object(j.jsx)(l.a,{className:"d-none d-lg-inline",onClick:function(t){c(e),a(),t.stopPropagation()},children:"Apply"})]})]})},t)};n(72);function U(e){var t=Object(c.useState)(null),n=Object(r.a)(t,2),o=n[0],a=n[1],s=Object(c.useCallback)((function(){a("This is a demo site. To have a custom built responsive website of your own, contact Darrien Richmond [darrien.richmond@gmail.com]")}),[]);return Object(c.useEffect)((function(){a(null)}),[e]),Object(j.jsx)("div",{className:"job-application-container",children:q(e,o,s)})}var q=function(e,t,n){return e.details&&e.job?Object(j.jsxs)("div",{className:"job-application-content",children:[Object(j.jsx)("div",{className:"job-application-back-button",children:Object(j.jsxs)("span",{onClick:e.back,children:[Object(j.jsx)(x.a,{icon:m.a})," Back to job postings"]})}),Object(j.jsx)("div",{className:"job-application-logo",children:Object(j.jsx)("img",{src:"/uploads/"+e.job.logo_file_name,alt:e.job.company+" "+e.job.title+" logo"})}),Object(j.jsxs)("div",{className:"job-application-header",children:[Object(j.jsx)("h2",{children:e.job.title}),Object(j.jsx)("h3",{children:e.job.company}),Object(j.jsx)(h.a,{fluid:!0,children:Object(j.jsxs)(O.a,{className:"job-application-sub-data",children:[Object(j.jsxs)(p.a,{className:"ps-0",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)(x.a,{icon:m.e}),Object(j.jsx)("span",{className:"ps-2",children:e.job.job_position_types.name})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(x.a,{icon:m.h}),Object(j.jsxs)("span",{className:"ps-2",children:[e.job.city,", ",e.job.state]})]})]}),Object(j.jsxs)(p.a,{children:[Object(j.jsxs)("div",{children:[Object(j.jsx)(x.a,{icon:m.f}),Object(j.jsx)("span",{className:"ps-2",children:e.job.industry})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(x.a,{icon:m.c}),Object(j.jsx)("span",{className:"ps-2",children:z(e.job.age_in_hours)})]})]})]})})]}),Object(j.jsxs)("div",{className:"job-application-description",children:[Object(j.jsx)("h3",{children:"Job Description"}),Object(j.jsx)("p",{children:e.job.description}),Object(j.jsx)("ul",{children:e.details.map((function(e){return Object(j.jsx)("li",{children:e.content})}))}),Object(j.jsx)("div",{className:"job-application-footer",children:t?Object(j.jsx)(y.a,{variant:"info",children:t}):Object(j.jsx)(l.a,{onClick:n,children:"Apply"})})]})]}):e.isLoading?Object(j.jsx)("div",{className:"loading-page",children:Object(j.jsx)(x.a,{icon:m.i,size:"4x",pulse:!0})}):Object(j.jsx)("div",{})};function G(e){var t,n,c=P((n=null===(t=e.selectedJob)||void 0===t?void 0:t.id)?k(n):null),o=c.data,a=(c.error,c.loading),s="job-board-sub-container h-100 "+(Boolean(e.selectedJob)?" job-selected":"");return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(U,{job:e.selectedJob,details:a?null:o,back:e.back,isLoading:a}),Object(j.jsx)(h.a,{fluid:!0,className:s,children:Object(j.jsxs)(O.a,{children:[Object(j.jsx)(p.a,{lg:"3",xs:"12",className:"h-100 p-0",children:Object(j.jsx)(M,{categories:e.categories,positionTypes:e.positionTypes,loadCategoriesError:e.loadCategoriesError,loadPositionTypesError:e.loadPositionTypesError,forceCategoriesReload:e.forceCategoriesReload,forcePositionTypesReload:e.forcePositionTypesReload})}),Object(j.jsxs)(p.a,{lg:"6",xs:"12",children:[" ",Object(j.jsx)(H,{setSelectedJob:e.setSelectedJob,showApplication:e.showApplication,setSelectedDetailsJob:e.setSelectedDetailsJob})," "]}),Object(j.jsxs)(p.a,{lg:"3",className:"d-none d-lg-block h-100 p-0",children:[" ",Object(j.jsx)(g,{job:e.detailsJob,showApplication:e.showApplication})," "]})]})})]})}var Y=n.p+"static/media/Logo.7e7f488c.svg";n(73);function Q(e){var t=Object(c.useState)(null),n=Object(r.a)(t,2),o=n[0],a=n[1],s=Object(c.useState)(null),i=Object(r.a)(s,2),l=i[0],d=i[1],b=Object(c.useContext)(w),h=b.selectedCategories,O=b.selectedPositionTypes,p=b.tmpSearchText,f=Object(c.useState)(!1),x=Object(r.a)(f,2),m=x[0],g=x[1],v=Object(c.useCallback)((function(e){a(e),d(e)}),[]);Object(c.useEffect)((function(){a(null),d(null),g(!1)}),[h,O,p]);var y=Object(c.useCallback)((function(){return g(!0)}),[]),C="job-board-content"+(Boolean(o)?" job-selected":""),N=function(){Boolean(o)?(a(null),g(!1)):e.back()},S=m?"application-ready":"";return Object(j.jsxs)("div",{className:"job-board-container ".concat(S),children:[V(Boolean(o),N),Object(j.jsx)("div",{className:C,children:Object(j.jsx)(G,Object(u.a)(Object(u.a)({},e),{},{selectedJob:o,setSelectedJob:a,back:N,showApplication:y,setSelectedDetailsJob:v,detailsJob:l}))})]})}var V=function(e,t){var n="job-board-header user-select-none "+(e?"job-selected":"");return Object(j.jsx)("div",{className:n,children:Object(j.jsxs)("div",{children:[Object(j.jsx)("img",{src:Y,alt:"mock jobs board logo",className:"d-none d-sm-inline",onClick:t}),Object(j.jsx)("div",{className:"job-board-header-text",onClick:t,children:Object(j.jsx)("h1",{children:"Mock Jobs Board"})})]})})},X=n(48);var K=function(){var e,t=P(E()),n=t.data,o=t.error,a=t.forceReload,s=P(T()),l=s.data,b=s.error,u=s.forceReload,h=Object(c.useContext)(w),O=h.clearPositionTypes,p=h.setCategory,f=Object(c.useState)("HOME"),x=Object(r.a)(f,2),m=x[0],g=x[1],v=Object(c.useCallback)(Object(X.debounce)((function(){y("BOARD"===m?"jobBoardScrollElement":"appPageScrollElement")}),300),[m]),y=function(e){i.scroller.scrollTo(e,{duration:500,smooth:!0})};e=v,Object(c.useEffect)((function(){return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[e]);var C=function(){y("jobBoardScrollElement"),g("BOARD")},N=null==n?Array(5).fill(null):n;return Object(j.jsxs)("main",{children:[Object(j.jsx)(i.Element,{name:"appPageScrollElement",children:Object(j.jsx)("div",{className:"app-page",children:Object(j.jsx)(d,{categories:N.slice(0,5),changeCategory:function(e){p(e),O(),C()}})})}),Object(j.jsx)(i.Element,{name:"jobBoardScrollElement",children:Object(j.jsx)("div",{className:"app-page",children:Object(j.jsx)(Q,{categories:n,positionTypes:l,loadCategoriesError:o,loadPositionTypesError:b,forceCategoriesReload:a,forcePositionTypesReload:u,back:function(){y("appPageScrollElement"),g("HOME")}})})})]})};s.a.render(Object(j.jsx)(o.a.StrictMode,{children:Object(j.jsx)(R,{maxResultCount:15,debounceInMilliseconds:400,children:Object(j.jsx)(K,{})})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.38507a63.chunk.js.map